# ğŸ“– Introduction

> ì´ë²¤íŠ¸ëŠ” íŠ¹ì •í•œ ìš”ì†Œì—ë§Œ ì •í™•íˆ ë°œë™ë˜ëŠ” ì¤„ ì•Œì•˜ë˜ ê³¼ê±°ì˜ ë‚˜ë¥¼ ìƒê°í•˜ë©°..

ì´ë²¤íŠ¸ ë²„ë¸”ë§, ì´ë²¤íŠ¸ ìº¡ì³ë§. ë¬´ìŠ¨ ì´ë²¤íŠ¸ í•˜ë‚˜ì— ì´ë ‡ê²Œ ë§ì€ ë‹¨ì–´ë“¤ì´ ë“¤ì–´ê°€ëŠ”ì§€ ì²˜ìŒ JSì— ì…ë¬¸í•˜ë˜ ë‚˜ë¡œì„œëŠ” ì´í•´í•  ìˆ˜ ì—†ì—ˆë‹¤. í•˜ì§€ë§Œ Vanilla JSë¡œ ì§ì ‘ ê°™ì€ ì¹´ë“œ ì°¾ê¸° ë¯¸ë‹ˆ ê²Œì„ì„ êµ¬í˜„í–ˆì„ ë•Œ `addEventListener` ì—ì„œ ì–¼ë§ˆë‚˜ ë§ì€ ê³ í†µì„ ë°›ì•˜ì—ˆëŠ”ê°€. ì´ë²ˆ í¬ìŠ¤íŒ…ì€ ê·¸ë•Œì˜ ë‚˜ë¥¼ íšŒìƒí•˜ë©° ë‹¤ì‹œê¸ˆ ì´ë²¤íŠ¸ì— ëŒ€í•œ ë‚´ìš©ì„ ì •ë¦¬í•˜ì˜€ë‹¤. **ê³¼ê±°ì˜ ë‚˜ì•¼, ì™œ ê·¸ë•Œ ì´ë²¤íŠ¸ ìœ„ì„ì„ ê³µë¶€í•˜ì§€ ì•Šì€ ê±°ë‹ˆ..**

# âœ’ï¸ Event flow

### âœï¸ 3 Step of Event in DOM

![](https://velog.velcdn.com/images/rookieand/post/839a71c6-4fcb-40e4-8fc5-74c6f11baac6/image.png)

- íŠ¹ì • DOM ìš”ì†Œì— ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ê²½ìš° ì´ë²¤íŠ¸ëŠ” ì•„ë˜ì™€ ê°™ì€ ìˆœì„œë¡œ ì „íŒŒëœë‹¤.

  1. **Capture Phase** : ìƒìœ„ ìš”ì†Œë¡œë¶€í„° í•˜ìœ„ ìš”ì†Œë¡œ ì´ë²¤íŠ¸ê°€ ì „íŒŒë˜ëŠ” ê³¼ì •
  2. **Target Phase** : ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¨ ìš”ì†Œì— ì´ë²¤íŠ¸ë¥¼ ì „ë‹¬í•˜ëŠ” ê³¼ì •
  3. **Bubbling Phase** : í•˜ìœ„ ìš”ì†Œë¡œë¶€í„° ìƒìœ„ ìš”ì†Œë¡œ ì´ë²¤íŠ¸ê°€ ë‹¤ì‹œ ì „íŒŒë˜ëŠ” ê³¼ì •

- ì´ëŠ” ì´ë²¤íŠ¸ê°€ ìƒìœ„ ìš”ì†Œë¡œë¶€í„° í•˜ìœ„ ìš”ì†Œë¡œ ì´ë²¤íŠ¸ê°€ ì „íŒŒë˜ë©°, ì´ë²¤íŠ¸ê°€ ë°œìƒëœ ìš”ì†Œì— ì´ë¥¼ ì „ë‹¬í•œ í›„ ë‹¤ì‹œ ìƒìœ„ ìš”ì†Œë¡œ ì´ë²¤íŠ¸ê°€ ë‹¤ì‹œ ì „ë‹¬ë¨ì„ ì˜ë¯¸í•œë‹¤.
- ì´ë¥¼ JS ì—ì„œëŠ” **Event Flow** ë¼ê³  í•˜ë©°, ì‚¬ìš©ìëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ Capture Phase í˜¹ì€ Bubbling Phaseì—ì„œ ì‹¤í–‰í•˜ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. ë‹¨ í•˜ë‚˜ì˜ í•¸ë“¤ëŸ¬ì— ë‘ Phase ëª¨ë‘ ì‹¤í–‰ë˜ë„ë¡ í•  ìˆ˜ëŠ” ì—†ë‹¤.
- Event Flow ëŠ” DOM ì—ì„œ **ì´ë²¤íŠ¸ì˜ íë¦„ì„ ì œì–´í•˜ëŠ”ë°** ì•„ì£¼ ì¤‘ìš”í•œ ì—­í• ì„ í•˜ë©°, ì´ë²¤íŠ¸ê°€ ë¬´ì‘ìœ„ë¡œ ì‹¤í–‰ë˜ì§€ ì•Šê³  ì¼ì •í•œ íë¦„ì„ í†µí•´ ì—°ê´€ëœ ìš”ì†Œë¥¼ ìˆœí™˜í•˜ë©° ì´ë²¤íŠ¸ë¥¼ ì „íŒŒí•˜ë„ë¡ í•´ì¤€ë‹¤.

### âœï¸ addEventListener(type, handler, option)

- `EventTarget.addEventListener()` ëŠ” íŠ¹ì • DOM ìš”ì†Œì— ë¶€ì°©í•˜ì—¬ ì´ë²¤íŠ¸ê°€ ë°œìƒë˜ì—ˆì„ ê²½ìš° ì´ë¥¼ ì¸ì‹í•˜ì—¬ ì¸ìë¡œ ë„˜ê¸´ ì½œë°± í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¤ë„ë¡ í•˜ëŠ” Web API ë‹¤.
- ì¸ìë¡œëŠ” ì´ 3ê°œë¥¼ ë°›ìœ¼ë©°, ë§ˆì§€ë§‰ optional ì¸ìì¸ `useCapture` boolean ê°’ì„ í†µí•´ ìº¡ì³ë§ ë‹¨ê³„ì—ì„œ ë¦¬ìŠ¤ë„ˆë¥¼ ë¶€ì°©ì‹œí‚¬ì§€, ì•„ë‹ˆë©´ ë²„ë¸”ë§ ë‹¨ê³„ì—ì„œ ë¦¬ìŠ¤ë„ˆë¥¼ ë¶€ì°©ì‹œí‚¬ì§€ë¥¼ ì •í•œë‹¤. ê¸°ë³¸ ê°’ì€ `false` ë‹¤.

```js
const contentNode = document.getElementById("content");

contentNode.addEventListener(
	"click",
	function (event) {
		console.log(event.target, this);
	},
	true // useCapture : true (ìº¡ì²˜ë§ ë‹¨ê³„ì—ì„œ ì´ë²¤íŠ¸ ìˆ˜ì‹ )
);

contentNode.addEventListener("click", function (event) {
	console.log(event.target, event.currentTarget);
	// useCapture : false (ë²„ë¸”ë§ ë‹¨ê³„ì—ì„œ ì´ë²¤íŠ¸ ìˆ˜ì‹ )
});
```

### âœï¸ .target ê³¼ .currentTargetì˜ ì°¨ì´

- `event` ê°ì²´ì˜ `target` ì†ì„±ì€ ì´ë²¤íŠ¸ê°€ ë°œìƒëœ ê°€ì¥ ì•ˆìª½ì˜ ìš”ì†Œ, ì¦‰ Target Phaseì˜ ëŒ€ìƒì´ ë˜ëŠ” ìš”ì†Œë¥¼ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•´ì¤€ë‹¤.
- í•˜ì§€ë§Œ `currentTarget` ì˜ ê²½ìš° í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ í•¸ë“¤ëŸ¬ê°€ í• ë‹¹ëœ ìš”ì†Œë¥¼ ì˜ë¯¸í•œë‹¤. ì¦‰, ì§€ê¸ˆ ì´ë²¤íŠ¸ê°€ ì‹¤í–‰ ì¤‘ì¸ ìš”ì†Œë¥¼ ê°€ë¦¬í‚¨ë‹¤.
- ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë‚´ë¶€ì˜ `this` ë˜í•œ ì´ë²¤íŠ¸ê°€ ì‹¤í–‰ ì¤‘ì¸ ìš”ì†Œ, ì¦‰ `event.currentTarget` ê³¼ ê°™ì€ ìš”ì†Œë¥¼ ê°€ë¦¬í‚¨ë‹¤.

```html
<div id="content">
	<div id="btn-content">
		<button id="btn">í´ë¦­</button>
	</div>
</div>
<script src="/test.js"></script>
```

```js
const contentNode = document.getElementById("content");
const btnContentNode = document.getElementById("btn-content");
const btnNode = document.getElementById("btn");

// ìº¡ì²˜ë§ ë‹¨ê³„ë¥¼ ì²´í¬í•˜ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
contentNode.addEventListener(
	"click",
	function (event) {
		console.log(event.target, this);
	},
	true
);

btnContentNode.addEventListener(
	"click",
	function (event) {
		console.log(event.target, event.currentTarget);
	},
	true
);

btnNode.addEventListener(
	"click",
	function (event) {
		console.log(event.target, event.currentTarget);
	},
	true
);

// ë²„ë¸”ë§ ë‹¨ê³„ë¥¼ ì²´í¬í•˜ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
contentNode.addEventListener("click", function (event) {
	console.log(event.target, event.currentTarget);
});

btnContentNode.addEventListener("click", function (event) {
	console.log(event.target, event.currentTarget);
});

btnNode.addEventListener("click", function (event) {
	console.log(event.target, event.currentTarget);
});

// ì‹¤í–‰ ê²°ê³¼, event.targetì€ ì–´ë–¤ ìƒí™©ì´ë˜ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¨ ìš”ì†Œë¥¼ ê°€ë¦¬í‚¤ì§€ë§Œ
// event.currentTargetì˜ ê²½ìš° í˜„ì¬ ë°œë™ëœ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ë¶€ì°©ëœ ìš”ì†Œë¥¼ ê°€ë¦¬í‚¨ë‹¤.

// <button id=â€‹"btn">â€‹í´ë¦­â€‹</button> <div id=â€‹"content">â€‹â€¦â€‹</div>â€‹
// <button id=â€‹"btn">â€‹í´ë¦­â€‹</button>â€‹ <div id=â€‹"btn-content">â€‹â€¦â€‹</div>â€‹
// <button id=â€‹"btn">â€‹í´ë¦­â€‹</button>â€‹ <button id=â€‹"btn">â€‹í´ë¦­â€‹</button>â€‹
// <button id=â€‹"btn">â€‹í´ë¦­â€‹</button>â€‹ <button id=â€‹"btn">â€‹í´ë¦­â€‹</button>â€‹
// <button id=â€‹"btn">â€‹í´ë¦­â€‹</button>â€‹ <div id=â€‹"btn-content">â€‹â€¦â€‹</div>â€‹
// <button id=â€‹"btn">â€‹í´ë¦­â€‹</button>â€‹ <div id=â€‹"content">â€‹â€¦â€‹</div>â€‹
```

![](https://velog.velcdn.com/images/rookieand/post/439bce50-929e-48d1-858a-ce846f2446b1/image.PNG)

> **event.eventPhase** ì†ì„±ì€ ë­˜ê¹Œ?

- `event.eventPhase` ë€ í˜„ì¬ ë°œë™ ì¤‘ì¸ ì´ë²¤íŠ¸ì˜ Phaseë¥¼ ì •ìˆ˜ ê°’ìœ¼ë¡œ ê°€ì§„ ì†ì„±ì´ë‹¤. ì´ë¥¼ í†µí•´ í˜„ì¬ ì´ë²¤íŠ¸ íë¦„ì˜ ë‹¨ê³„ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤.
- `1` ì€ Capturing Phase, `2` ëŠ” Target Phase, `3` ì€ Bubbling Phaseë¥¼ ê°ê° ì˜ë¯¸í•œë‹¤. Event Flowì™€ ê°’ì´ ë™ì¼í•˜ë‹¤.

# âœ’ï¸ Event Capturing & Bubbling

### âœï¸ Event Capturing

- Event Capturing ì´ë€, **ì¡°ìƒ ìš”ì†Œë¡œë¶€í„° ì´ë²¤íŠ¸ê°€ ë°œë™ëœ í•˜ìœ„ ìš”ì†Œ** ë¡œ ì´ë²¤íŠ¸ê°€ ìˆœì°¨ì ìœ¼ë¡œ ì „íŒŒë˜ëŠ” ê³¼ì •ì„ ì˜ë¯¸í•œë‹¤. ë˜í•œ Event Flow ì—ì„œ **ì²« ë²ˆì§¸ë¡œ ë™ì‘**í•˜ê¸°ì— Bubbling Phase ë³´ë‹¤ ìš°ì„ ì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.
- í•˜ì§€ë§Œ Event Capturing ì˜ ê²½ìš° ì‚¬ìš© ë¹ˆë„ê°€ ê·¹íˆ ë“œë¬¼ê³ , Event Bubbling ìœ¼ë¡œë„ ì´ë²¤íŠ¸ íë¦„ì„ ì¶©ë¶„íˆ ì²˜ë¦¬í•  ìˆ˜ ìˆê¸°ì— ìµœì‹  ë¸Œë¼ìš°ì €ì—ì„œëŠ” ì ì°¨ ì§€ì›ì„ ì•ˆí•˜ëŠ” ì¶”ì„¸ë¼ê³  í•œë‹¤.

### âœï¸ Event Bubbling

- Event Bubbling ì´ë€, **ì´ë²¤íŠ¸ê°€ ë°œë™ëœ í•˜ìœ„ ìš”ì†Œë¡œë¶€í„° ì¡°ìƒ ìš”ì†Œë¡œ** ë‹¤ì‹œ ì´ë²¤íŠ¸ê°€ ì „íŒŒë˜ëŠ” ê³¼ì •ì„ ì˜ë¯¸í•œë‹¤. Event Flow ì—ì„œëŠ” **ê°€ì¥ ë§ˆì§€ë§‰ìœ¼ë¡œ ë™ì‘** í•˜ê¸°ì— Capturing Phase ë³´ë‹¤ ë‚˜ì¤‘ì— ì‹¤í–‰ëœë‹¤.
- `focus` ê°™ì€ ì¼ë¶€ ì´ë²¤íŠ¸ëŠ” Bubbling ë˜ì§€ ì•ŠëŠ”ë‹¤. í•˜ì§€ë§Œ ê±°ì˜ ëŒ€ë¶€ë¶„ì˜ ì´ë²¤íŠ¸ëŠ” Capturingê³¼ Bubbling ì´ ëœë‹¤ê³  ë³´ë©´ ëœë‹¤.

```html
// index.html
<div id="first">
	<div id="second">
		<button id="third">í´ë¦­</button>
	</div>
</div>
```

```js
// test.js
const firstNode = document.getElementById("first");
const secondNode = document.getElementById("second");
const thirdNode = document.getElementById("third");

firstNode.addEventListener(
	"click",
	function (event) {
		console.log("idê°€ `three`ì¸ button íƒœê·¸ì˜ Click EventListener");
		event.stopPropagation();
	},
	true
);

secondNode.addEventListener(
	"click",
	function (event) {
		console.log("idê°€ `two`ì¸ div íƒœê·¸ì˜ Click EventListener");
	},
	true
);

thirdNode.addEventListener(
	"click",
	function (event) {
		console.log("idê°€ `three`ì¸ button íƒœê·¸ì˜ Click EventListener");
	},
	true
);

firstNode.addEventListener("click", function (event) {
	console.log("idê°€ `first`ì¸ div íƒœê·¸ì˜ Click EventListener");
});

secondNode.addEventListener("click", function (event) {
	console.log("idê°€ `two`ì¸ div íƒœê·¸ì˜ Click EventListener");
});

thirdNode.addEventListener("click", function (event) {
	console.log("idê°€ `three`ì¸ button íƒœê·¸ì˜ Click EventListener");
});

// ì‹¤í–‰ ê²°ê³¼ : ë¨¼ì € Capturing Phaseì—ì„œ ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•œ Listenerê°€ ì‹¤í–‰
// ì´í›„ Bubbling Phaseì—ì„œ ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•œ Listener ê°€ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.

// idê°€ `three`ì¸ button íƒœê·¸ì˜ Click EventListener
// idê°€ `two`ì¸ div íƒœê·¸ì˜ Click EventListener
// idê°€ `three`ì¸ button íƒœê·¸ì˜ Click EventListener
// idê°€ `three`ì¸ button íƒœê·¸ì˜ Click EventListener
// idê°€ `two`ì¸ div íƒœê·¸ì˜ Click EventListener
// idê°€ `first`ì¸ div íƒœê·¸ì˜ Click EventListener
```

![](https://velog.velcdn.com/images/rookieand/post/6778b245-c0d5-4520-b41f-a47ad5ad7fdb/image.PNG)

### âœï¸ event.stopPropagation()

- `event.stopPropagation()` ì€ í•´ë‹¹ ì´ë²¤íŠ¸ê°€ ë‹¤ë¥¸ ìš”ì†Œë¡œ ì „íŒŒë˜ëŠ” ê²ƒì„ ë§‰ëŠ”ë‹¤. ë”°ë¼ì„œ Capturing ì—ì„œëŠ” í•˜ìœ„ ìš”ì†Œë¡œ ì´ë²¤íŠ¸ê°€ ì „íŒŒë¨ì„ ë§‰ê³ , Bubbling ì—ì„œëŠ” ìƒìœ„ ìš”ì†Œë¡œ ì´ë²¤íŠ¸ê°€ ì „íŒŒë¨ì„ ë§‰ëŠ”ë‹¤.
- ë§Œì•½ Capturing Phase ì—ì„œ ì´ë²¤íŠ¸ ì „íŒŒê°€ ë§‰í˜”ë‹¤ë©´, ì´í›„ Phase ì— ëŒ€í•œ ì‘ì—…ë„ ìë™ìœ¼ë¡œ ì¤‘ë‹¨ëœë‹¤. ë”°ë¼ì„œ Bubbling Phase ì— ë“±ë¡í•œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë˜í•œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.

```html
<div id="first">
	<div id="second">
		<button id="third">í´ë¦­</button>
	</div>
</div>
```

```js
const firstNode = document.getElementById("first");

firstNode.addEventListener(
	"click",
	function (event) {
		console.log("idê°€ `three`ì¸ button íƒœê·¸ì˜ Click EventListener");
		event.stopPropagation();
	},
	true
);

firstNode.addEventListener("click", function (event) {
	console.log("idê°€ `first`ì¸ div íƒœê·¸ì˜ Click EventListener");
});

// ì‹¤í–‰ ê²°ê³¼ : Capturing Phaseì— ë¶€ì°©ëœ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆëŠ” ì •ìƒì ìœ¼ë¡œ ë™ì‘í•œë‹¤.
// í•˜ì§€ë§Œ event.stopPropagation() ìœ¼ë¡œ ì¸í•´ ë” ì´ìƒ ì´ë²¤íŠ¸ê°€ ì „íŒŒë˜ì§€ ì•ŠëŠ”ë‹¤.

// idê°€ `three`ì¸ button íƒœê·¸ì˜ Click EventListener
```

![](https://velog.velcdn.com/images/rookieand/post/585805d6-c93e-4a31-8b19-155d6ac63cab/image.PNG)

# âœ’ï¸ Event Delegation

### âœï¸ Event Delegation (ì´ë²¤íŠ¸ ìœ„ì„) ì´ë€?

- Event Delegation ì´ë€, í•˜ìœ„ ìš”ì†Œì— ê°œë³„ì ì¸ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë¶€ì°©í•˜ì§€ ì•Šê³  ìƒìœ„ ìš”ì†Œì—ì„œ í•˜ìœ„ ìš”ì†Œì˜ ì´ë²¤íŠ¸ë¥¼ **ì¼ê´„ì ìœ¼ë¡œ ì œì–´í•˜ëŠ” ë°©ì‹**ì„ ì˜ë¯¸í•œë‹¤.
- ìƒìœ„ ìš”ì†Œì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë¶€ì°©ì‹œí‚¤ë©´, í•˜ìœ„ ìš”ì†Œì—ì„œ ì´ë²¤íŠ¸ê°€ ë°œë™ë˜ì—ˆì„ ë•Œ **Bubbling Phase** ì—ì„œ ì´ë¥¼ ì¼ê´„ì ìœ¼ë¡œ ê°ì§€í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.
- ë”°ë¼ì„œ ìƒˆë¡œìš´ ìš”ì†Œê°€ ì¶”ê°€ë˜ì—ˆì„ ê²½ìš°, ê°œë³„ì ìœ¼ë¡œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë¶€ì°©ì‹œí‚¤ì§€ ì•Šê³  ìƒìœ„ ìš”ì†Œì—ì„œ ì´ë²¤íŠ¸ ê°ì§€ì— ëŒ€í•œ ë¡œì§ì„ ì²˜ë¦¬í•˜ê²Œë” í•  ìˆ˜ ìˆë‹¤.

```html
<ul id="item-list">
	<li id="item-1">1</li>
</ul>
<script src="/test.js"></script>
```

```js
// ì´ë²¤íŠ¸ ìœ„ì„ì„ í•˜ì§€ ì•Šì•˜ì„ ê²½ìš°, ìƒˆë¡œìš´ ìš”ì†Œê°€ ì¶”ê°€ë  ë•Œë§ˆë‹¤ ë¦¬ìŠ¤ë„ˆ ë¶€ì°©
const itemListNode = document.getElementById("item-list");
const firstNode = document.getElementById("item-1");

// í•´ë‹¹ ë¦¬ìŠ¤ë„ˆëŠ” newNode ê°€ ìƒì„±ë˜ê¸° ì „ì— ì´ë¯¸ firstNode ì— ë¶€ì°©ë˜ì—ˆë‹¤.
firstNode.addEventListener("click", function () {
	alert("clicked");
});

const newNode = document.createElement("li");
newNode.classList.add("item-2");
newNode.innerText = "2";
itemListNode.appendChild(newNode);

// ë”°ë¼ì„œ ìƒˆë¡œìš´ ìš”ì†Œì¸ newNodeë¥¼ ìƒì„±í•œ í›„ì— ë³„ë„ì˜ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë¶€ì°©í•´ì•¼ í•œë‹¤.
newNode.addEventListener("click", function () {
	alert("clicked");
});
```

- ê¸°ì¡´ì˜ `<li>` íƒœê·¸ì—ëŠ” ì •ìƒì ìœ¼ë¡œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ì˜ ë¶€ì°©ë˜ì—ˆìœ¼ë‚˜, ë§Œì•½ ìƒˆë¡œìš´ `<li>` íƒœê·¸ë¥¼ ì¶”ê°€í•œë‹¤ë©´ í•´ë‹¹ íƒœê·¸ì—ë„ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ì¶”ê°€ì ìœ¼ë¡œ ë¶€ì°©í•´ì•¼ í•œë‹¤.
- í•˜ì§€ë§Œ ì´ë ‡ê²Œ ë  ê²½ìš° ì¶”ê°€ëœ DOM ìš”ì†Œê°€ ë§ì•„ì§ˆìˆ˜ë¡ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ê°œë³„ì ìœ¼ë¡œ ë‹¬ì•„ì£¼ì–´ì•¼ í•˜ë©°, ì´ëŠ” ì½”ë“œì˜ ë³µì¡ë„ë¥¼ ì¦ê°€ì‹œí‚¬ ë¿ë§Œ ì•„ë‹ˆë¼ ë¬´ì²™ ë²ˆê±°ë¡œìš´ ì‘ì—…ì´ ë  ê²ƒì´ë‹¤.
- ë”°ë¼ì„œ **ìƒìœ„ ìš”ì†Œ** ì¸ `<ul>` íƒœê·¸ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë‹¬ì•„ í•˜ìœ„ ìš”ì†Œì—ì„œ ë°œìƒëœ ì´ë²¤íŠ¸ë¥¼ Bubbling Phase ì—ì„œ ê°ì§€í•˜ë„ë¡ ì¼ê´„ì ìœ¼ë¡œ ìœ„ì„í•˜ëŠ” ê²ƒì´ë‹¤.

```js
const itemListNode = document.getElementById("item-list");
const firstNode = document.getElementById("item-1");

// í•´ë‹¹ ë¦¬ìŠ¤ë„ˆëŠ” í•˜ìœ„ ìš”ì†Œì˜ ì´ë²¤íŠ¸ë¥¼ Bubbling Phaseì—ì„œ ê°ì§€í•˜ê¸°ì— íš¨ìœ¨ì ì´ë‹¤.
itemListNode.addEventListener("click", function () {
	alert("clicked");
});

const newNode = document.createElement("li");
newNode.classList.add("item-2");
newNode.innerText = "2";
itemListNode.appendChild(newNode);
```

### âœï¸ event.target.closest()

- `event.target.closest()` ë©”ì„œë“œëŠ” ì´ë²¤íŠ¸ê°€ ë°œë™ëœ ìš”ì†Œì˜ ìƒìœ„ ìš”ì†Œë“¤ ì¤‘ì—ì„œ ì¸ìë¡œ ë°›ì€ `selector` ì™€ ê°€ì¥ ê·¼ì ‘í•œ ì¡°ìƒ ìš”ì†Œë¥¼ ë°˜í™˜í•œë‹¤.
- ì´ë¥¼ í™œìš©í•˜ì—¬ í•´ë‹¹ ì´ë²¤íŠ¸ê°€ íŠ¹ì • íƒœê·¸ ë‚´ë¶€ì—ì„œ ì¼ì–´ë‚¬ëŠ”ì§€ë¥¼ ëª…í™•íˆ ì•Œ ìˆ˜ ìˆë‹¤. Bubbling Phaseì˜ ëŒ€ìƒì´ ëœ ìš”ì†Œë“¤ ì¤‘ì—ì„œ ì‚¬ìš©ìê°€ ì›í•˜ëŠ” íŠ¹ì • ìš”ì†Œì— ëŒ€í•œ ì‹¤í–‰ì„ ì œì–´í•  ìˆ˜ ìˆë‹¤.

```html
<table id="table">
	<tr>
		<th colspan="3">
			<em>Bagua</em> Chart: Direction, Element, Color, Meaning
		</th>
	</tr>
	<tr>
		<td class="nw">
			<strong>Northwest</strong><br />Metal<br />Silver<br />Elders
		</td>
		<td class="n">...</td>
		<td class="ne">...</td>
	</tr>
</table>
<script src="/test.js"></script>
```

```js
const tableNode = document.getElementById("table");
tableNode.addEventListener("click", function (event) {
	let tdNode = event.target.closest("td");
	if (!tdNode) return;
	if (!tableNode.contains(tdNode)) return;
	alert("only td node is clicked!");
});
```

- ìƒë‹¨ì˜ ì½”ë“œëŠ” ì´ë²¤íŠ¸ê°€ ë°œë™ëœ ìš”ì†Œì˜ ìƒìœ„ ìš”ì†Œë“¤ ì¤‘ `<td>` íƒœê·¸ê°€ ìˆë‹¤ë©´ ì´ë¥¼ ë°˜í™˜í•˜ê³ , ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ `null` ì„ ë°˜í™˜í•œë‹¤.
- `event.target` ì´ `<td>` íƒœê·¸ ë‚´ì— ìˆì§€ ì•Šì„ ê²½ìš°, ê·¸ë¦¬ê³  í˜„ì¬ idê°€ table ì¸ `<table>` íƒœê·¸ ë‚´ì— í•´ë‹¹ íƒœê·¸ê°€ ìœ„ì¹˜í•˜ì§€ ì•Šì„ ê²½ìš° í•¸ë“¤ëŸ¬ë¥¼ ì¢…ë£Œí•œë‹¤.
- `event.target.closest()` ë©”ì„œë“œëŠ” ì´ë²¤íŠ¸ê°€ ë°œë™ëœ ëŒ€ìƒ ì£¼ë³€ì— íŠ¹ì • ìš”ì†Œê°€ ì¡´ì¬í•˜ëŠ”ì§€ë¥¼ ì²´í¬í•  ìˆ˜ ìˆê¸°ì— íš¨ìœ¨ì ì´ë‹¤.

# ğŸ“’ References

- https://joshua1988.github.io/web-development/javascript/event-propagation-delegation/
- https://ko.javascript.info/event-delegation
- https://www.javatpoint.com/event-bubbling-and-capturing-in-javascript
